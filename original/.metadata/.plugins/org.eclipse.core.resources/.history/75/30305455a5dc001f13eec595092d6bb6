package com.example.origin.service;

import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.ArrayList;

public class GenreService {

	 public List<String> getSubGenreData(int genreId) throws Exception {
	        String tableName;
	        switch (genreId) {
	            case 1:
	                tableName = "game";
	                break;
	            case 2:
	                tableName = "movie";
	                break;
	            case 3:
	                tableName = "book";
	                break;
	            default:
	                throw new Exception("Invalid genre ID");
	        }

	        String query = "SELECT id, genre_name FROM " + tableName;
	        List<String> subGenres = new ArrayList<>();

	        try (Connection connection = DatabaseUtil.getConnection();
	             PreparedStatement preparedStatement = connection.prepareStatement(query)) {

	            ResultSet resultSet = preparedStatement.executeQuery();
	            while (resultSet.next()) {
	                subGenres.add(resultSet.getString("genre_name"));
	            }
	        }
	        return subGenres;
	    }

}
