const imageInput = document.getElementById('imageFile');
const imagePreview = document.getElementById('imagePreview');

imageInput.addEventListener('change', () => {
 if (imageInput.files[0]) {
   let fileReader = new FileReader();
   fileReader.onload = () => {
     imagePreview.innerHTML = `<img src="${fileReader.result}" class="mb-3">`;
   }
   fileReader.readAsDataURL(imageInput.files[0]);
 } else {
   imagePreview.innerHTML = '';
 }
})

document.getElementById("randomButton").addEventListener("click", function() {
    fetch("/data/random")
        .then(response => {
            if (!response.ok) {
                throw new Error("データが見つかりませんでした");
            }
            return response.json();
        })
        .then(data => {
            document.getElementById("randomDataName").innerText = data.name;
            var modal = new bootstrap.Modal(document.getElementById("randomDataModal"));
            modal.show();
        })
        .catch(error => {
            document.getElementById("randomDataName").innerText = error.message;
            var modal = new bootstrap.Modal(document.getElementById("randomDataModal"));
            modal.show();
        });
});