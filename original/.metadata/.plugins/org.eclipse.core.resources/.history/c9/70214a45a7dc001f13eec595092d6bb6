package com.example.origin.service;

import org.springframework.stereotype.Service;

import com.example.origin.entity.Genre;
import com.example.origin.repository.GenreRepository;

@Service
public class GenreService {
private final GenreRepository genreRepository;
private final GameRepository  gameRepository;
private final BookRepository bookRepository;
private final MovieRepository movieRepository;

public GenreService(GenreRepository genreRepository
					,GameRepository  gameRepository
					,BookRepository bookRepository
					,MovieRepository movieRepository) {
	this.genreRepository = genreRepository;
	this.gameRepository = gameRepository;
	this.bookRepository = bookRepository;
	this.movieRepository = movieRepository;
}
	
public List<Object> getGenresByCollection(Collection collection) {
    String genreName = collection.getGenreName();

    switch (genreName.toLowerCase()) {
        case "game":
            return gameRepository.findAll();
        case "movie":
            return movieRepository.findAll();
        case "book":
            return bookRepository.findAll();
        default:
            throw new IllegalArgumentException("Unknown genre: " + genreName);
    }
}
}
