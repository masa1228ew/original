package com.example.origin.service;

import java.util.List;

import org.springframework.stereotype.Service;

import com.example.origin.entity.Collection;
import com.example.origin.entity.Genre;
import com.example.origin.repository.BookRepository;
import com.example.origin.repository.GameRepository;
import com.example.origin.repository.GenreRepository;
import com.example.origin.repository.MovieRepository;

@Service
public class GenreService {
private final GenreRepository genreRepository;
private final GameRepository  gameRepository;
private final BookRepository bookRepository;
private final MovieRepository movieRepository;

public GenreService(GenreRepository genreRepository
					,GameRepository  gameRepository
					,BookRepository bookRepository
					,MovieRepository movieRepository) {
	this.genreRepository = genreRepository;
	this.gameRepository = gameRepository;
	this.bookRepository = bookRepository;
	this.movieRepository = movieRepository;
}
	
public List<Object> getGenresByCollection(Collection collection) {
    Genre genre = collection.getGenre();

    String genreId = genre.getId();
    
    switch (genreId) {
        case "1":
            return gameRepository.findAll();
        case "2":
            return movieRepository.findAll();
        case "3":
            return bookRepository.findAll();
        default:
            throw new IllegalArgumentException("Unknown genre: " + genreId);
    }
}
}
